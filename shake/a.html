<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
    </head>
    <body>
        <p>左右：<span id="alpha">0</span></p>
        <p>前后：<span id="beta">0</span></p>
        <p>扭转：<span id="gamma">0</span></p>
        <p>指北针指向：<span id="heading">0</span>度</p>
        <p>指北针精度：<span id="accuracy">0</span>度</p>
        <div id="show"></div>
        <script>
            // if(window.DeviceMotionEvent) {
            //     window.addEventListener('devicemotion', deviceMotionHandler, false);
            // }else{
            //     alert('不支持1');
            // }
            // var SHAKE_THRESHOLD = 800,
            //     last_update = 0,
            //     x, y, z, last_x, last_y, last_z;
            // function deviceMotionHandler(eventData) {
            //     var acceleration = eventData.accelerationIncludingGravity;
            //     var curTime = new Date().getTime();
            //     if( (curTime - last_update) > 100) {
            //         var diffTime = curTime - last_update;
            //         last_update = curTime;
            //         x = acceleration.x;
            //         y = acceleration.y;
            //         z = acceleration.z;
            //         var speed = Math.abs(x + y + z - last_x - last_y - last_z) / diffTime * 10000;
            //         if(speed > SHAKE_THRESHOLD) {
            //             alert("shake");
            //         }
            //         last_x = x;
            //         last_y = y;
            //         last_z = z;
            //     }
            // }
            function orientationHandler(event) {
                document.getElementById("alpha").innerHTML = event.alpha;
                document.getElementById("beta").innerHTML = event.beta;
                document.getElementById("gamma").innerHTML = event.gamma;
                document.getElementById("heading").innerHTML = event.webkitCompassHeading;
                document.getElementById("accuracy").innerHTML = event.webkitCompassAccuracy;
            }
            if (window.DeviceOrientationEvent) {
                window.addEventListener("deviceorientation", orientationHandler, false);
            } else {
                alert("不支持2");
            }
        </script>
    </body>
</html>